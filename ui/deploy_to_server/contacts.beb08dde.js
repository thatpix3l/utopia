function e(e){return e&&e.__esModule?e.default:e}var t=globalThis,n={},a={},l=t.parcelRequire2d0a;null==l&&((l=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var l={id:e,exports:{}};return n[e]=l,t.call(l.exports,l,l.exports),l.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequire2d0a=l),l.register;var o=l("6KOho"),r=l("3rinH"),i=l("ildEr"),d=l("dzOrt");e(o)(()=>{let t=(0,r.getUserFromCookie)();if(!t.id){window.location.href="/";return}let n=e(o)("#searchInput"),a=e(o)("#contactsTable"),l=e(o)("#pagesHolder"),c=e(o)("#addOverlay"),s=c.find("input:is([type='text']"),u=e(o)("#addFirstNameInput"),m=e(o)("#addLastNameInput"),p=e(o)("#addPhoneInput"),v=e(o)("#addEmailInput"),h=e(o)("#addErrorHolder"),f=e(o)("#addConfirmButton");f.prop("disabled",!0),e(o)("#logoutButton").on("click",()=>{(0,r.clearCookie)(),window.location.href="/"});let g=[];function E(t=1){a.children(":not(:first-child)").remove();let n=(t-1)*10;for(let t=n;t<n+10&&t<g.length;t++){let n=g[t],l=document.createElement("div");l.classList.add("row"),e(o)(l).data("id",n.id);let r=document.createElement("p");r.innerText=`${n.firstName} ${n.lastName}`;let i=document.createElement("p");i.innerText=n.email;let d=document.createElement("p");d.innerText=n.phone;let c=document.createElement("div"),s=document.createElement("button");s.innerText="Edit";let u=document.createElement("button");u.innerText="Delete",c.append(s,u),l.append(r,i,d,c),a.append(l)}}e(o)("#searchButton").on("click",()=>{(0,i.request)("SearchName",{user_id:t.id,search:n.val()??""},t=>{g=t.results,l.empty();let n=Math.max(Math.ceil(g.length/10),1);for(let t=1;t<=n;t++){let n=document.createElement("button");n.innerText=t.toString(),e(o)(n).on("click",()=>{console.log("page",t),E(t)}),l.append(n)}E()},e=>{})}),e(o)("#addButton").on("click",()=>{c.removeClass("inactive")}),e(o)("#addCancelButton").on("click",()=>{c.addClass("inactive")});let x=()=>{let e=(0,d.validatePartialName)(u.val()??"","First").concat((0,d.validatePartialName)(m.val()??"","Last"),(0,d.validatePhone)(p.val()??""),(0,d.validateEmail)(v.val()??""));return console.log(e),h.html(e.join("<br />")),f.prop("disabled",!!e.length),!!e.length},k=()=>{(0,i.request)("AddContact",{user_id:t.id,name_first:u.val()??"",name_last:m.val()??"",phone:p.val()??"",email:v.val()??""},e=>{console.log(e)},e=>{console.log(e)}),s.val(""),c.addClass("inactive")};s.on("focus",e=>{x()}),s.on("keyup",e=>{x()||"Enter"!==e.key||k()}),s.on("blur",e=>{h.text("")}),f.on("click",k)});
//# sourceMappingURL=contacts.beb08dde.js.map
